<ion-header>

  <ion-navbar color="amazonia">
    <ion-title>Cadastro</ion-title>
  </ion-navbar>
  <ion-toolbar color="amazonia">
    <ion-segment [(ngModel)]="atual" color="amazoniaText">
      <ion-segment-button value="aba1">
        Dados Pessoais
      </ion-segment-button>
      <ion-segment-button value="aba2">
        Endereço
      </ion-segment-button>
      <ion-segment-button value="aba3">
          Login e Senha
        </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content class="page-signup">
  <div [ngSwitch]="atual">
    <div *ngSwitchCase="'aba1'">
      <ion-list>
        <ion-item-divider color="dark">Dados Pessoais</ion-item-divider>
        <ion-item>
          <ion-label stacked>Nome</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.user.firstName"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Sobre Nome</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.user.lastName"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Email</ion-label>
          <ion-input type="email" [(ngModel)]="newUser.user.email" (ionBlur)="emailCheck()"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>CPF</ion-label>
          <ion-input type="number" [(ngModel)]="newUser.user.cpf"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label color="amazonia" stacked>Data de Nascimento</ion-label>
          <ion-datetime doneText="OK" cancelText="Cancela" color="amazonia" displayFormat="DD/MM/YYYY" pickerFormat="DD/MM/YYYY" (ionBlur)="getDate($event)"></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label>Sexo</ion-label>
          <ion-select [(ngModel)]="newUser.user.sex" doneText="OK" cancelText="Cancela" color="amazonia">
            <ion-option value="M">Masculino</ion-option>
            <ion-option value="F">Feminino</ion-option>
            <ion-option value="NaN">Prefiro não delarar</ion-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>
    <div *ngSwitchCase="'aba2'">
      <ion-list>
        <ion-item-divider color="dark">Endereço de Cobrança</ion-item-divider>
        <ion-item>
          <ion-label stacked>Rua</ion-label>
          <ion-textarea type="text" maxlength="80" [(ngModel)]="newUser.billing.rua"></ion-textarea>
        </ion-item>
        <ion-item>
          <ion-label stacked>Numero</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.billing.numero"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>Complemento</ion-label>
          <ion-textarea type="text" maxlength="80" [(ngModel)]="newUser.billing.complemento"></ion-textarea>
        </ion-item>
        <ion-item>
          <ion-label stacked>Bairro</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.billing.bairro"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label>
            Pais
          </ion-label>
          <ion-select [(ngModel)]="newUser.billing.pais" doneText="OK" cancelText="Cancela" color="amazonia">
            <ion-option value="BRA">Brasil</ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>Estado</ion-label>
          <ion-select [(ngModel)]="newUser.billing.estado" doneText="OK" cancelText="Cancela" color="amazonia">
            <ion-option value="PA">Pará</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label stacked>Cidade</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.billing.cidade"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>CEP</ion-label>
          <ion-input type="number" clearInput [(ngModel)]="newUser.billing.cep"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>DDD</ion-label>
          <ion-input maxlenght="3" type="number" clearInput [(ngModel)]="newUser.billing.phone.area"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>Telefone</ion-label>
          <ion-input type="tel" maxlength="9" clearInput [(ngModel)]="newUser.billing.phone.number"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Mesmo Endereço de Entrega</ion-label>
          <ion-checkbox [(ngModel)]="billing_shipping_same" (ionChange)="setBillingToShipping()"></ion-checkbox>
        </ion-item>
        <div *ngIf="!billing_shipping_same">
          <ion-item-divider color="dark">Endereço de Entrega</ion-item-divider>
          <ion-item>
            <ion-label stacked>Rua</ion-label>
            <ion-textarea type="text" maxlength="80" [(ngModel)]="newUser.shipping.rua"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label stacked>Numero</ion-label>
            <ion-input type="text" [(ngModel)]="newUser.shipping.numero"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label stacked>Complemento</ion-label>
            <ion-textarea type="text" maxlength="80" [(ngModel)]="newUser.shipping.complemento"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label stacked>Bairro</ion-label>
            <ion-input type="text" [(ngModel)]="newUser.shipping.bairro"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>
              Pais
            </ion-label>
            <ion-select [(ngModel)]="newUser.shipping.pais" doneText="OK" cancelText="Cancela" color="amazonia">
              <ion-option value="BRA" selected="true">Brasil</ion-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label>Estado</ion-label>
            <ion-select [(ngModel)]="newUser.shipping.estado" doneText="OK" cancelText="Cancela" color="amazonia">
              <ion-option value="PA">Pará</ion-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label stacked>Cidade</ion-label>
            <ion-input type="text" [(ngModel)]="newUser.shipping.cidade"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>CEP</ion-label>
            <ion-input type="number" clearInput [(ngModel)]="newUser.shipping.cep"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>DDD</ion-label>
            <ion-input maxlength="3" type="number" clearInput [(ngModel)]="newUser.shipping.phone.area"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label stacked>Telefone</ion-label>
            <ion-input type="tel" maxlength="9" clearInput [(ngModel)]="newUser.shipping.phone.number"></ion-input>
          </ion-item>
        </div>
      </ion-list>
      
    </div>
    <div *ngSwitchCase="'aba3'">
      <ion-list>
        <ion-item>
          <ion-label stacked>Nome de Usuário</ion-label>
          <ion-input type="text" [(ngModel)]="newUser.user.userName"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Senha</ion-label>
          <ion-input type="password" [(ngModel)]="newUser.user.password"></ion-input>
        </ion-item>
      </ion-list>

    </div>
  </div>
  
  <div style="height: 50px; text-align: center;"></div>
</ion-content>
<ion-footer>
    <div [ngSwitch]="atual">
        <div *ngSwitchCase="'aba1'">
          <button ion-button block color="amazonia" (click)="atual = 'aba2' ">Continuar</button>
        </div>
        <div *ngSwitchCase="'aba2'">
            <button ion-button block color="amazonia" (click)="atual='aba3'">Continuar</button>
            <button ion-button block outline color="dark" (click)="atual= 'aba1' ">Voltar</button>
        </div>
        <div *ngSwitchCase="'aba3'">
            <button  ion-button block color="amazonia" (click)="signup()">Cadastar</button>
            <button ion-button block outline color="dark" (click)="atual= 'aba2' ">Voltar</button>
        </div>  
    </div>

</ion-footer>
