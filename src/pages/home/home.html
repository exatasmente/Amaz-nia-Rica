<ion-header no-border-bottom>
  <ion-navbar no-border-bottom color="amazonia">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title color="amazoniaText">Amaz√¥nia Rica</ion-title>
  </ion-navbar>


<ion-toolbar no-border-bottom  color="amazonia">
    
    <ion-segment [(ngModel)]="opcao" color="amazoniaText">
      <ion-segment-button value="destaques">
        Destaques
      </ion-segment-button>
      <ion-segment-button value="categorias" (click)="loadCategories()">
        Categorias
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content  class="page-home"   >
    <ion-fab right bottom  >
        <button ion-fab  color="amazonia">
          <ion-icon name="more"></ion-icon>
        </button>
        <ion-fab-list side="top">
            <button ion-fab color="amazonia" ><ion-icon name="search"></ion-icon></button>
            <button ion-fab color="amazonia" (click)="openCart()">
                <ion-icon name="cart"></ion-icon>
            </button>
        </ion-fab-list>
    </ion-fab>
    <div [ngSwitch]="opcao" >
      <div *ngSwitchCase="'destaques'">
        <ion-card>
        <ion-slides autoplay="3000" pager>
            <ion-slide *ngFor="let image of [1,2,3,4]">
                <img src="http://placehold.it/350x200">
            </ion-slide>
        </ion-slides>            
      </ion-card>
      <div class="menuHeaderSpacer"></div>
      <ion-grid>
        <ion-row>
          <ion-slides pager>
            <ion-slide *ngFor="let product of products" (click)="openProductPage(product)">
              <ion-card  >
                  <img [src]="product.featured_src">
                <h1>{{product.title}}</h1>

                <p [innerHTML]="product.short_description.substr(0,50)+'...'"></p>
              </ion-card>
            </ion-slide>
          </ion-slides>
        </ion-row>
      </ion-grid>
      <div class="spacer"></div>
      <ion-list>
        <ion-item *ngFor="let product of moreProducts" (click)="openProductPage(product)">
          <ion-thumbnail item-left>
              <img [src]="product.featured_src">
          </ion-thumbnail>
          <h2>{{product.title}}</h2>
          <p>
            <span [innerHTML]="product.short_description.substr(0,30)+'...'"></span>
            <span [innerHTML]="product.price_html"></span>
          </p>
          <button ion-button icon clear item-right color="amazonia">
            <ion-icon name="arrow-forward"></ion-icon>
          </button>
        </ion-item>
      </ion-list>
      <ion-infinite-scroll (ionInfinite)="loadMoreProducts($event)">
        <ion-infinite-scroll-content>

        </ion-infinite-scroll-content>
      </ion-infinite-scroll>
      </div>
      

      <div *ngSwitchCase="'categorias'">
        <ion-list>
          <ion-item *ngFor="let cat of categories" (click)="openCategoryProductPage(cat)">
              <ion-icon item-right name="arrow-forward" color="amazonia"></ion-icon>
            <h2>{{cat.name}}</h2>
          </ion-item>
        </ion-list>
        </div>
        
      </div>
</ion-content>
