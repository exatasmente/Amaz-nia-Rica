<ion-header>

  <ion-navbar color="amazonia">
      <ion-buttons end >
          <button ion-button icon-only (click)="closeModal()">
              <ion-icon item-left  name="close"></ion-icon>
          </button>
      </ion-buttons>
    <ion-title>Carrinho</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >
 <ion-list>
   <ion-card *ngFor="let item of cartItens; let i = index" >
  
    <ion-item>
        <ion-thumbnail item-left>
          <img [src]="item.product.featured_src" style="width: : 60px !important; height : 60px !important;">
      </ion-thumbnail>
    <h2>{{item.product.title}}</h2>
    <p [innerHTML]="item.product.short_description"></p>
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <button ion-button outline color="danger" (click)="removeFromCart(item,i)">
                Remover
          </button>
        </ion-col>
        
    </ion-row>
    </ion-grid>
    </ion-item>
    
  
   <ion-item style="margin-left:0px !important;">
   <p>Quantidade:</p>
     <ion-grid >
       <ion-row>
         
         <ion-col col-2 style="align:left !important;">
            <button ion-button outline (click)="decrementQty(item,i)" color="amazonia">
              <ion-icon small name="remove"></ion-icon>
            </button>
         </ion-col>
         <ion-col col-2 style="align:center !important;">
         <button ion-button outline color="amazonia">
            {{item.qty}}
          </button>
         </ion-col>

         <ion-col col-2 style="align:right !important;">
            <button ion-button outline (click)="incrementQty(item,i)" color="amazonia">
                <ion-icon small name="add"></ion-icon>
              </button>
         </ion-col>
         
         <ion-col col-6 style="text-align:right !important;">
            <h2>$ {{item.amount.toFixed(2)}}</h2>

         </ion-col>
       </ion-row>
     </ion-grid>
    </ion-item>
  </ion-card>
    
</ion-list>

 
 <ion-card>
   <button  disabled="{{emptyCart}}" block ion-button outline (click)="calculateShipment()" color="amazonia">
      Calcular Frete e Prazo de Entrega
   </button>
 
 <ion-item>
   <ion-grid>
     <ion-row>
       <ion-col col-6 style="text-align:left !important;">
          <h1><b>SubTotal:</b></h1>
       </ion-col>
       <ion-col col-6 style="text-align:right !important;">
          <h1><b>{{total.toFixed(2)}}</b></h1>
       </ion-col>
     </ion-row>
   </ion-grid>
 </ion-item>
</ion-card>
<button  disabled="{{emptyCart}}" block large ion-button  (click)="checkout()" color="amazonia">
    Concluir Compra
 </button>
 <button  disabled="{{emptyCart}}" block large ion-button outline (click)="closeModal()" color="dark">
    Continuar Comprando
 </button>

</ion-content>
